import inhul.managers.filesystem.FLGroup;import inhul.managers.filesystem.summary.GroupsCollection;import inhul.managers.filesystem.events.GroupEvent;import pirrest.utils.Delegate;/** * @author sas * @description * @version 1.0 */class inhul.managers.filesystem.FilesLoader {	public static var $version:Number = 1.0;	public static var $className:String = "inhul.managers.filesystem.FilesLoader";	private static var groups:GroupsCollection = new GroupsCollection();	private static var prevGroup:FLGroup;	private static var currGroup:FLGroup;	function FilesLoader() {		super();	}	//-----------------------------Main methods--------------------------------	public static function addGroup(group:FLGroup):Boolean {		trace("DVK> FilesLoader :: addGroup ("+arguments+")");		return groups.addGroup(group);	}	public static function load():Void {		trace("DVK> FilesLoader :: load ("+arguments+")");		loadNextGroup();	}	public static function loadGroup(group:FLGroup):Void {		trace("DVK> FilesLoader :: loadGroup ("+arguments+")");		currGroup.close();		groups.addMandatoryGroup(group);		load();	}	private static function loadNextGroup():Void {		trace("DVK> FilesLoader :: loadNextGroup ("+arguments+")");		trace("");		trace(groups);		trace("");		prevGroup = currGroup;		currGroup = groups.getNextGroup();		currGroup.addEventListener(GroupEvent.LOAD_COMPLETE, Delegate.create(FilesLoader, groupCompleteHandler));		currGroup.load();	}	public function toString():String {		return "[object FilesLoader]";	}	//-----------------------------Main methods--------------------------------	//-----------------------------Handlers------------------------------------	public static function groupCompleteHandler(event:GroupEvent):Void {		trace("DVK> FilesLoader :: groupCompleteHandler ("+arguments+")");		loadNextGroup();	}	//-----------------------------Handlers------------------------------------	//-----------------------------User interaction----------------------------	//-----------------------------User interaction----------------------------}